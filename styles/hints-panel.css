/* LC Helper - Hints Panel Styles */

@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Space+Grotesk:wght@400;500;600;700&display=swap');

:root {
  --lch-bg-primary: #0f0f13;
  --lch-bg-secondary: #1a1a23;
  --lch-bg-tertiary: #252532;
  --lch-accent: #6366f1;
  --lch-accent-hover: #818cf8;
  --lch-accent-glow: rgba(99, 102, 241, 0.3);
  --lch-success: #10b981;
  --lch-warning: #f59e0b;
  --lch-danger: #ef4444;
  --lch-text-primary: #f1f5f9;
  --lch-text-secondary: #94a3b8;
  --lch-text-muted: #64748b;
  --lch-border: #2d2d3a;
  --lch-font-main: 'Space Grotesk', sans-serif;
  --lch-font-mono: 'JetBrains Mono', monospace;
}

/* Floating Action Button */
.lch-fab {
  position: fixed;
  bottom: 24px;
  right: 24px;
  width: 56px;
  height: 56px;
  border-radius: 16px;
  background: linear-gradient(135deg, var(--lch-accent) 0%, #8b5cf6 100%);
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 
    0 4px 24px var(--lch-accent-glow),
    0 0 0 1px rgba(255, 255, 255, 0.1) inset;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 99999;
}

.lch-fab:hover {
  transform: translateY(-2px) scale(1.05);
  box-shadow: 
    0 8px 32px var(--lch-accent-glow),
    0 0 0 1px rgba(255, 255, 255, 0.2) inset;
}

.lch-fab:active {
  transform: translateY(0) scale(0.98);
}

.lch-fab svg {
  width: 24px;
  height: 24px;
  fill: white;
}

/* Main Panel */
.lch-panel {
  position: fixed;
  bottom: 92px;
  right: 24px;
  width: 380px;
  max-height: 600px;
  background: var(--lch-bg-primary);
  border-radius: 20px;
  border: 1px solid var(--lch-border);
  box-shadow: 
    0 24px 80px rgba(0, 0, 0, 0.5),
    0 0 0 1px rgba(255, 255, 255, 0.05) inset;
  font-family: var(--lch-font-main);
  z-index: 99998;
  overflow: hidden;
  opacity: 0;
  visibility: hidden;
  transform: translateY(16px) scale(0.95);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  display: flex;
  flex-direction: column;
}

/* Panel Body - Scrollable */
.lch-panel-body {
  overflow-y: auto;
  overflow-x: hidden;
  max-height: calc(600px - 80px);
  flex: 1;
}

.lch-panel-body::-webkit-scrollbar {
  width: 6px;
}

.lch-panel-body::-webkit-scrollbar-track {
  background: transparent;
}

.lch-panel-body::-webkit-scrollbar-thumb {
  background: var(--lch-border);
  border-radius: 3px;
}

.lch-panel-body::-webkit-scrollbar-thumb:hover {
  background: var(--lch-text-muted);
}

.lch-panel.active {
  opacity: 1;
  visibility: visible;
  transform: translateY(0) scale(1);
}

/* Panel Header */
.lch-panel-header {
  padding: 20px 24px;
  background: linear-gradient(180deg, var(--lch-bg-secondary) 0%, var(--lch-bg-primary) 100%);
  border-bottom: 1px solid var(--lch-border);
}

.lch-panel-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--lch-text-primary);
  margin: 0 0 4px 0;
  display: flex;
  align-items: center;
  gap: 8px;
}

.lch-panel-title::before {
  content: 'âš¡';
}

.lch-panel-subtitle {
  font-size: 13px;
  color: var(--lch-text-muted);
  margin: 0;
}

/* Topic Badge */
.lch-topic-section {
  padding: 16px 20px;
  border-bottom: 1px solid var(--lch-border);
}

.lch-topic-label {
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--lch-text-muted);
  margin-bottom: 8px;
}

.lch-topic-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(139, 92, 246, 0.15) 100%);
  border: 1px solid rgba(99, 102, 241, 0.3);
  border-radius: 10px;
  font-size: 14px;
  font-weight: 600;
  color: var(--lch-accent-hover);
}

.lch-topic-badge::before {
  content: 'ðŸŽ¯';
  font-size: 12px;
}

/* Cache Info */
.lch-cache-info {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 12px;
}

.lch-cache-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  background: rgba(16, 185, 129, 0.15);
  border: 1px solid rgba(16, 185, 129, 0.3);
  border-radius: 6px;
  font-size: 11px;
  font-weight: 600;
  color: var(--lch-success);
}

.lch-refresh-btn {
  padding: 4px 10px;
  background: var(--lch-bg-tertiary);
  border: 1px solid var(--lch-border);
  border-radius: 6px;
  font-size: 11px;
  font-weight: 500;
  color: var(--lch-text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 4px;
}

.lch-refresh-btn:hover {
  background: var(--lch-accent);
  border-color: var(--lch-accent);
  color: white;
  transform: rotate(90deg);
}

/* Hints Section */
.lch-hints-section {
  padding: 20px 24px;
}

.lch-hint-card {
  background: var(--lch-bg-secondary);
  border: 1px solid var(--lch-border);
  border-radius: 12px;
  margin-bottom: 12px;
  overflow: hidden;
  transition: all 0.2s ease;
}

.lch-hint-card:last-child {
  margin-bottom: 0;
}

.lch-hint-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 16px;
  cursor: pointer;
  transition: background 0.2s ease;
}

.lch-hint-header:hover {
  background: var(--lch-bg-tertiary);
}

.lch-hint-number {
  display: flex;
  align-items: center;
  gap: 10px;
}

.lch-hint-badge {
  width: 28px;
  height: 28px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
  font-weight: 700;
  color: white;
}

.lch-hint-badge.hint-1 {
  background: linear-gradient(135deg, var(--lch-success) 0%, #059669 100%);
}

.lch-hint-badge.hint-2 {
  background: linear-gradient(135deg, var(--lch-warning) 0%, #d97706 100%);
}

.lch-hint-badge.hint-3 {
  background: linear-gradient(135deg, var(--lch-danger) 0%, #dc2626 100%);
}

.lch-hint-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--lch-text-primary);
}

.lch-hint-reveal-btn {
  padding: 6px 12px;
  background: var(--lch-bg-tertiary);
  border: 1px solid var(--lch-border);
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  color: var(--lch-text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
}

.lch-hint-reveal-btn:hover {
  background: var(--lch-accent);
  border-color: var(--lch-accent);
  color: white;
}

.lch-hint-content {
  padding: 0 16px 16px;
  font-size: 14px;
  line-height: 1.6;
  color: var(--lch-text-secondary);
  display: none;
}

.lch-hint-content.revealed {
  display: block;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Loading State */
.lch-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 48px 24px;
  gap: 16px;
}

.lch-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--lch-border);
  border-top-color: var(--lch-accent);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.lch-loading-text {
  font-size: 14px;
  color: var(--lch-text-muted);
}

/* Error State */
.lch-error {
  padding: 32px 24px;
  text-align: center;
}

.lch-error-icon {
  font-size: 32px;
  margin-bottom: 12px;
}

.lch-error-message {
  font-size: 14px;
  color: var(--lch-danger);
  margin-bottom: 16px;
}

.lch-retry-btn {
  padding: 10px 20px;
  background: var(--lch-accent);
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
  color: white;
  cursor: pointer;
  transition: all 0.2s ease;
}

.lch-retry-btn:hover {
  background: var(--lch-accent-hover);
}

/* Settings Prompt - Premium Design */
.lch-settings-prompt {
  padding: 40px 28px;
  text-align: center;
}

.lch-settings-icon {
  font-size: 56px;
  margin-bottom: 20px;
  filter: drop-shadow(0 4px 12px rgba(251, 191, 36, 0.4));
  animation: iconFloat 3s ease-in-out infinite;
}

@keyframes iconFloat {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-8px) rotate(5deg); }
}

.lch-settings-message {
  font-size: 15px;
  color: var(--lch-text-secondary);
  margin-bottom: 24px;
  line-height: 1.7;
  font-weight: 400;
}

.lch-settings-btn {
  padding: 14px 32px;
  background: linear-gradient(135deg, 
    #6366f1 0%, 
    #8b5cf6 50%,
    #a855f7 100%);
  background-size: 200% 200%;
  border: none;
  border-radius: 12px;
  font-size: 15px;
  font-weight: 700;
  color: white;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 
    0 6px 20px rgba(99, 102, 241, 0.4),
    0 2px 4px rgba(0, 0, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  letter-spacing: 0.5px;
}

.lch-settings-btn:hover {
  transform: translateY(-3px) scale(1.02);
  box-shadow: 
    0 10px 32px rgba(99, 102, 241, 0.6),
    0 0 40px rgba(139, 92, 246, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);
  background-position: 100% 50%;
}

.lch-settings-btn:active {
  transform: translateY(-1px) scale(0.98);
  box-shadow: 
    0 4px 16px rgba(99, 102, 241, 0.5),
    inset 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* Feedback Section */
.lch-feedback-section {
  padding: 16px 24px;
  border-top: 1px solid var(--lch-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.lch-feedback-label {
  font-size: 13px;
  font-weight: 500;
  color: var(--lch-text-secondary);
}

.lch-feedback-buttons {
  display: flex;
  gap: 8px;
}

.lch-feedback-btn {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: var(--lch-bg-tertiary);
  border: 1px solid var(--lch-border);
  font-size: 16px;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.lch-feedback-btn:hover {
  transform: scale(1.1);
  border-color: var(--lch-accent);
}

.lch-feedback-btn.active {
  background: var(--lch-accent);
  border-color: var(--lch-accent);
}

.lch-feedback-btn.positive:hover,
.lch-feedback-btn.positive.active {
  background: var(--lch-success);
  border-color: var(--lch-success);
}

.lch-feedback-btn.negative:hover,
.lch-feedback-btn.negative.active {
  background: var(--lch-danger);
  border-color: var(--lch-danger);
}

.lch-feedback-thanks {
  padding: 16px 24px;
  border-top: 1px solid var(--lch-border);
  text-align: center;
}

.lch-feedback-thanks-text {
  font-size: 13px;
  color: var(--lch-success);
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
}

.lch-feedback-improve {
  margin-top: 12px;
}

.lch-feedback-improve-text {
  font-size: 12px;
  color: var(--lch-text-muted);
  margin-bottom: 8px;
}

.lch-feedback-regenerate-btn {
  padding: 8px 16px;
  background: var(--lch-accent);
  border: none;
  border-radius: 8px;
  font-size: 12px;
  font-weight: 600;
  color: white;
  cursor: pointer;
  transition: all 0.2s ease;
}

.lch-feedback-regenerate-btn:hover {
  background: var(--lch-accent-hover);
  transform: translateY(-1px);
}

/* Solved Button Section - Premium & Attractive */
.lch-solved-section {
  padding: 12px 16px 16px 16px;
  display: flex;
  justify-content: center;
  position: relative;
}

.lch-mark-solved-btn {
  padding: 14px 32px;
  background: linear-gradient(135deg, 
    #10b981 0%, 
    #059669 25%,
    #047857 50%,
    #059669 75%,
    #10b981 100%);
  background-size: 300% 300%;
  border: none;
  border-radius: 14px;
  font-size: 15px;
  font-weight: 800;
  color: white;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  font-family: var(--lch-font-main);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  box-shadow: 
    0 8px 24px rgba(16, 185, 129, 0.4),
    0 4px 8px rgba(0, 0, 0, 0.2),
    inset 0 2px 0 rgba(255, 255, 255, 0.2),
    inset 0 -2px 8px rgba(0, 0, 0, 0.2);
  position: relative;
  overflow: hidden;
  letter-spacing: 0.8px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  animation: buttonPulse 3s ease-in-out infinite;
  width: 100%;
  max-width: 260px;
}

.lch-mark-solved-btn::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.2) 0%,
    transparent 70%
  );
  animation: pulseGlow 3s ease-in-out infinite;
}

@keyframes buttonPulse {
  0%, 100% {
    box-shadow: 
      0 8px 24px rgba(16, 185, 129, 0.4),
      0 4px 8px rgba(0, 0, 0, 0.2),
      inset 0 2px 0 rgba(255, 255, 255, 0.2);
    background-position: 0% 50%;
  }
  50% {
    box-shadow: 
      0 12px 32px rgba(16, 185, 129, 0.6),
      0 0 30px rgba(16, 185, 129, 0.4),
      inset 0 2px 0 rgba(255, 255, 255, 0.3);
    background-position: 100% 50%;
  }
}

@keyframes pulseGlow {
  0%, 100% {
    transform: scale(1);
    opacity: 0.3;
  }
  50% {
    transform: scale(1.5);
    opacity: 0.1;
  }
}

.lch-mark-solved-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 255, 255, 0.3), 
    transparent);
  transition: left 0.5s ease;
}

.lch-mark-solved-btn:hover {
  transform: translateY(-4px) scale(1.03);
  background-position: 100% 50%;
  box-shadow: 
    0 12px 40px rgba(16, 185, 129, 0.6),
    0 0 50px rgba(16, 185, 129, 0.4),
    0 0 30px rgba(255, 255, 255, 0.2),
    inset 0 2px 0 rgba(255, 255, 255, 0.3),
    inset 0 -2px 8px rgba(0, 0, 0, 0.2);
  animation: none;
  letter-spacing: 1px;
}

.lch-mark-solved-btn:hover::before {
  left: 100%;
}

.lch-mark-solved-btn:active {
  transform: translateY(-1px) scale(0.98);
  box-shadow: 
    0 6px 20px rgba(16, 185, 129, 0.5),
    inset 0 3px 8px rgba(0, 0, 0, 0.3);
}

.lch-mark-solved-btn.solved {
  background: linear-gradient(135deg, #475569 0%, #334155 100%);
  cursor: not-allowed;
  opacity: 0.8;
  animation: none;
  box-shadow: 
    0 2px 8px rgba(71, 85, 105, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.05) inset;
}

.lch-mark-solved-btn.solved:hover {
  transform: none;
  box-shadow: 
    0 2px 8px rgba(71, 85, 105, 0.3),
    0 0 0 1px rgba(255, 255, 255, 0.05) inset;
}

.lch-mark-solved-btn.solved::before {
  display: none;
}

/* Epic Streak Celebration */
.lch-celebration {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 100000;
  animation: celebrationPop 3s ease forwards;
}

/* Animated background rays */
.lch-celebration::before {
  content: '';
  position: absolute;
  inset: -100px;
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    rgba(251, 191, 36, 0.3) 45deg,
    transparent 90deg,
    rgba(239, 68, 68, 0.3) 135deg,
    transparent 180deg,
    rgba(139, 92, 246, 0.3) 225deg,
    transparent 270deg,
    rgba(99, 102, 241, 0.3) 315deg,
    transparent 360deg
  );
  animation: rotateRays 4s linear infinite;
  z-index: -1;
}

@keyframes rotateRays {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.lch-celebration-content {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%);
  background-size: 200% 200%;
  animation: gradientShift 3s ease infinite;
  padding: 40px 56px;
  border-radius: 24px;
  box-shadow: 
    0 0 60px rgba(99, 102, 241, 0.8),
    0 0 120px rgba(139, 92, 246, 0.6),
    0 20px 80px rgba(0, 0, 0, 0.5),
    inset 0 -2px 20px rgba(255, 255, 255, 0.2),
    inset 0 2px 20px rgba(0, 0, 0, 0.2);
  text-align: center;
  border: 2px solid rgba(255, 255, 255, 0.2);
  position: relative;
  overflow: hidden;
}

/* Sparkle effect */
.lch-celebration-content::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.8) 1px, transparent 1px),
    radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.8) 1px, transparent 1px),
    radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.8) 1px, transparent 1px),
    radial-gradient(circle at 30% 80%, rgba(255, 255, 255, 0.8) 1px, transparent 1px),
    radial-gradient(circle at 70% 20%, rgba(255, 255, 255, 0.8) 1px, transparent 1px);
  background-size: 100% 100%;
  animation: sparkle 1.5s ease-in-out infinite;
}

@keyframes sparkle {
  0%, 100% { opacity: 0; }
  50% { opacity: 1; }
}

@keyframes gradientShift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

.lch-celebration-icon {
  font-size: 80px;
  margin-bottom: 16px;
  animation: 
    bounce 0.8s ease-in-out infinite,
    rotate360 2s ease-in-out infinite;
  filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.5));
}

.lch-celebration-title {
  font-size: 32px;
  font-weight: 900;
  color: white;
  margin-bottom: 12px;
  text-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.3),
    0 0 20px rgba(255, 255, 255, 0.4);
  letter-spacing: -0.5px;
  animation: titlePulse 2s ease-in-out infinite;
}

@keyframes titlePulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.lch-celebration-streak {
  font-size: 28px;
  font-weight: 800;
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 50%, #fbbf24 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  font-family: var(--lch-font-mono);
  text-shadow: 0 0 30px rgba(251, 191, 36, 0.6);
  letter-spacing: 1px;
  padding: 8px 16px;
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  display: inline-block;
  animation: streakGlow 1.5s ease-in-out infinite;
}

@keyframes streakGlow {
  0%, 100% { 
    box-shadow: 
      0 0 20px rgba(251, 191, 36, 0.4),
      inset 0 0 20px rgba(251, 191, 36, 0.2);
  }
  50% { 
    box-shadow: 
      0 0 40px rgba(251, 191, 36, 0.6),
      inset 0 0 30px rgba(251, 191, 36, 0.3);
  }
}

.lch-celebration-subtitle {
  font-size: 16px;
  color: rgba(255, 255, 255, 0.95);
  margin-top: 12px;
  font-weight: 600;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  animation: subtitleFade 2s ease-in-out infinite;
}

@keyframes subtitleFade {
  0%, 100% { opacity: 0.9; }
  50% { opacity: 1; }
}

@keyframes bounce {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25% { transform: translateY(-15px) rotate(-5deg); }
  50% { transform: translateY(0) rotate(0deg); }
  75% { transform: translateY(-8px) rotate(5deg); }
}

@keyframes rotate360 {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes celebrationPop {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.3) rotate(-10deg);
  }
  5% {
    opacity: 1;
  }
  10% {
    transform: translate(-50%, -50%) scale(1.15) rotate(5deg);
  }
  15% {
    transform: translate(-50%, -50%) scale(0.95) rotate(-2deg);
  }
  20% {
    transform: translate(-50%, -50%) scale(1.02) rotate(0deg);
  }
  25% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
  }
  85% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.7) rotate(10deg);
  }
}

/* Quick Notification (for right-click mark as solved) */
.lch-quick-notification {
  position: fixed;
  top: 24px;
  right: 24px;
  padding: 16px 24px;
  background: linear-gradient(135deg, var(--lch-success) 0%, #059669 100%);
  border-radius: 12px;
  font-size: 14px;
  font-weight: 600;
  color: white;
  box-shadow: 
    0 8px 32px rgba(16, 185, 129, 0.4),
    0 0 0 1px rgba(255, 255, 255, 0.2) inset;
  z-index: 100000;
  font-family: var(--lch-font-main);
  opacity: 0;
  transform: translateX(400px);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.lch-quick-notification.show {
  opacity: 1;
  transform: translateX(0);
}

/* ============================================
   TIMER DISPLAY STYLES
   ============================================ */

.lch-panel-header-top {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 16px;
}

.lch-timer-badge {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(139, 92, 246, 0.15) 100%);
  border: 1px solid rgba(99, 102, 241, 0.3);
  border-radius: 10px;
  font-size: 14px;
  font-weight: 600;
  color: var(--lch-accent-hover);
  white-space: nowrap;
}

.lch-timer-icon {
  font-size: 14px;
}

.lch-timer-display {
  font-family: var(--lch-font-mono);
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 1px;
}

.lch-timer-display.warning {
  color: var(--lch-warning);
  animation: timerPulse 1s ease-in-out infinite;
}

@keyframes timerPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* ============================================
   30-MINUTE REMINDER MODAL
   ============================================ */

.lch-timer-modal {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100001;
  animation: modalFadeIn 0.3s ease;
}

@keyframes modalFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.lch-timer-modal-content {
  background: linear-gradient(135deg, var(--lch-bg-primary) 0%, var(--lch-bg-secondary) 100%);
  border: 1px solid var(--lch-border);
  border-radius: 24px;
  padding: 40px;
  text-align: center;
  max-width: 400px;
  width: 90%;
  box-shadow: 
    0 24px 80px rgba(0, 0, 0, 0.5),
    0 0 0 1px rgba(255, 255, 255, 0.05) inset;
  font-family: var(--lch-font-main);
  animation: modalPop 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes modalPop {
  from {
    opacity: 0;
    transform: scale(0.9) translateY(20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.lch-timer-modal-icon {
  font-size: 64px;
  margin-bottom: 16px;
  animation: alarmShake 0.5s ease-in-out infinite;
  filter: drop-shadow(0 0 20px rgba(245, 158, 11, 0.5));
}

@keyframes alarmShake {
  0%, 100% { transform: rotate(-5deg); }
  50% { transform: rotate(5deg); }
}

.lch-timer-modal-title {
  font-size: 24px;
  font-weight: 700;
  color: var(--lch-warning);
  margin: 0 0 12px 0;
  text-shadow: 0 0 20px rgba(245, 158, 11, 0.3);
}

.lch-timer-modal-text {
  font-size: 15px;
  color: var(--lch-text-secondary);
  margin: 0 0 24px 0;
  line-height: 1.6;
}

.lch-timer-modal-buttons {
  display: flex;
  gap: 12px;
  justify-content: center;
  margin-bottom: 20px;
}

.lch-timer-modal-btn {
  padding: 14px 24px;
  border: none;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: var(--lch-font-main);
}

.lch-timer-modal-btn.hint {
  background: linear-gradient(135deg, var(--lch-accent) 0%, #8b5cf6 100%);
  color: white;
  box-shadow: 0 4px 16px rgba(99, 102, 241, 0.4);
}

.lch-timer-modal-btn.hint:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 24px rgba(99, 102, 241, 0.5);
}

.lch-timer-modal-btn.solution {
  background: linear-gradient(135deg, var(--lch-success) 0%, #059669 100%);
  color: white;
  box-shadow: 0 4px 16px rgba(16, 185, 129, 0.4);
}

.lch-timer-modal-btn.solution:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 24px rgba(16, 185, 129, 0.5);
}

.lch-timer-modal-close {
  background: transparent;
  border: 1px solid var(--lch-border);
  border-radius: 8px;
  padding: 10px 20px;
  font-size: 13px;
  font-weight: 500;
  color: var(--lch-text-muted);
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: var(--lch-font-main);
}

.lch-timer-modal-close:hover {
  border-color: var(--lch-text-secondary);
  color: var(--lch-text-secondary);
  background: var(--lch-bg-tertiary);
}

/* ============================================
   FAVORITE BUTTON STYLES
   ============================================ */

.lch-actions-section {
  padding: 12px 24px;
  border-top: 1px solid var(--lch-border);
}

.lch-favorite-btn {
  width: 100%;
  padding: 12px 20px;
  background: var(--lch-bg-secondary);
  border: 1px solid var(--lch-border);
  border-radius: 10px;
  font-size: 14px;
  font-weight: 600;
  color: var(--lch-text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-family: var(--lch-font-main);
}

.lch-favorite-btn:hover {
  background: var(--lch-bg-tertiary);
  border-color: #ec4899;
  color: #ec4899;
  transform: translateY(-1px);
}

.lch-favorite-btn.active {
  background: linear-gradient(135deg, rgba(236, 72, 153, 0.15) 0%, rgba(219, 39, 119, 0.15) 100%);
  border-color: #ec4899;
  color: #ec4899;
}

.lch-favorite-btn.active:hover {
  background: linear-gradient(135deg, rgba(236, 72, 153, 0.25) 0%, rgba(219, 39, 119, 0.25) 100%);
}

